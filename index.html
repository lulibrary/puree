<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Purée by lulibrary</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Purée</h1>
      <h2 class="project-tagline">A Ruby client for the Pure Research Information System API.</h2>
      <a href="https://github.com/lulibrary/puree" class="btn">View on GitHub</a>
      <a href="https://github.com/lulibrary/puree/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/lulibrary/puree/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="purée-" class="anchor" href="#pur%C3%A9e-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Purée <a href="https://badge.fury.io/rb/puree"><img src="https://badge.fury.io/rb/puree.svg" alt="Gem Version"></a>
</h1>

<p>A Ruby client for the Pure Research Information System API.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>Add this line to your application's Gemfile:</p>

<pre><code>gem 'puree'
</code></pre>

<p>And then execute:</p>

<pre><code>$ bundle
</code></pre>

<p>Or install it yourself as:</p>

<pre><code>$ gem install puree
</code></pre>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<h3>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration</h3>

<p>Set the endpoint for Pure (e.g. <code>http://www.example.com/ws/rest</code>) and the
authentication credentials. Basic authentication can be turned off.</p>

<div class="highlight highlight-source-ruby"><pre>
<span class="pl-c"># Global settings using a block</span>
<span class="pl-c1">Puree</span>.configure <span class="pl-k">do </span>|<span class="pl-smi">config</span>|
  config.endpoint   <span class="pl-k">=</span> <span class="pl-c1">ENV</span>[<span class="pl-s"><span class="pl-pds">'</span>PURE_ENDPOINT<span class="pl-pds">'</span></span>]   <span class="pl-c"># optional, default nil</span>
  config.username   <span class="pl-k">=</span> <span class="pl-c1">ENV</span>[<span class="pl-s"><span class="pl-pds">'</span>PURE_USERNAME<span class="pl-pds">'</span></span>]   <span class="pl-c"># optional, default nil</span>
  config.password   <span class="pl-k">=</span> <span class="pl-c1">ENV</span>[<span class="pl-s"><span class="pl-pds">'</span>PURE_PASSWORD<span class="pl-pds">'</span></span>]   <span class="pl-c"># optional, default nil</span>
  config.basic_auth <span class="pl-k">=</span> <span class="pl-c1">true</span>                   <span class="pl-c"># optional, default false</span>
<span class="pl-k">end</span>

<span class="pl-c"># Global settings individually</span>
<span class="pl-c1">Puree</span>.endpoint   <span class="pl-k">=</span> <span class="pl-c1">ENV</span>[<span class="pl-s"><span class="pl-pds">'</span>PURE_ENDPOINT<span class="pl-pds">'</span></span>]      <span class="pl-c"># optional, default nil</span>
<span class="pl-c1">Puree</span>.username   <span class="pl-k">=</span> <span class="pl-c1">ENV</span>[<span class="pl-s"><span class="pl-pds">'</span>PURE_USERNAME<span class="pl-pds">'</span></span>]      <span class="pl-c"># optional, default nil</span>
<span class="pl-c1">Puree</span>.password   <span class="pl-k">=</span> <span class="pl-c1">ENV</span>[<span class="pl-s"><span class="pl-pds">'</span>PURE_PASSWORD<span class="pl-pds">'</span></span>]      <span class="pl-c"># optional, default nil</span>
<span class="pl-c1">Puree</span>.basic_auth <span class="pl-k">=</span> <span class="pl-c1">true</span>                      <span class="pl-c"># optional, default false</span>

<span class="pl-c"># Use global settings</span>
d <span class="pl-k">=</span> <span class="pl-c1">Puree</span>::<span class="pl-c1">Dataset</span>.<span class="pl-k">new</span>

<span class="pl-c"># Override one or more global settings in an instance</span>
d <span class="pl-k">=</span> <span class="pl-c1">Puree</span>::<span class="pl-c1">Dataset</span>.<span class="pl-k">new</span> <span class="pl-c1">endpoint:</span>   <span class="pl-c1">ENV</span>[<span class="pl-s"><span class="pl-pds">'</span>ANOTHER_PURE_ENDPOINT<span class="pl-pds">'</span></span>],  <span class="pl-c"># optional, default nil</span>
                       <span class="pl-c1">username:</span>   <span class="pl-c1">ENV</span>[<span class="pl-s"><span class="pl-pds">'</span>ANOTHER_PURE_USERNAME<span class="pl-pds">'</span></span>],  <span class="pl-c"># optional, default nil</span>
                       <span class="pl-c1">password:</span>   <span class="pl-c1">ENV</span>[<span class="pl-s"><span class="pl-pds">'</span>ANOTHER_PURE_PASSWORD<span class="pl-pds">'</span></span>],  <span class="pl-c"># optional, default nil</span>
                       <span class="pl-c1">basic_auth:</span> <span class="pl-c1">true</span>                           <span class="pl-c"># optional, default false</span></pre></div>

<h3>
<a id="dataset" class="anchor" href="#dataset" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dataset</h3>

<p>Get the metadata into a hash.</p>

<div class="highlight highlight-source-ruby"><pre>d <span class="pl-k">=</span> <span class="pl-c1">Puree</span>::<span class="pl-c1">Dataset</span>.<span class="pl-k">new</span>

<span class="pl-c"># Get metadata using ID</span>
metadata <span class="pl-k">=</span> d.find <span class="pl-c1">id:</span> <span class="pl-c1">12345678</span>

<span class="pl-c"># Reuse instance with another ID</span>
metadata <span class="pl-k">=</span> d.find <span class="pl-c1">id:</span> <span class="pl-c1">87654321</span>

<span class="pl-c"># Get metadata using UUID</span>
metadata <span class="pl-k">=</span> d.find <span class="pl-c1">uuid:</span> <span class="pl-s"><span class="pl-pds">'</span>xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx<span class="pl-pds">'</span></span>

<span class="pl-c"># Get specific metadata</span>
metadata[<span class="pl-s"><span class="pl-pds">'</span>doi<span class="pl-pds">'</span></span>]

<span class="pl-c"># Access HTTParty functionality</span>
d.response <span class="pl-c"># HTTParty object</span>
d.response.body <span class="pl-c"># XML</span>
d.response.code
d.response.message
d.response.headers <span class="pl-c"># hash</span></pre></div>

<h3>
<a id="collection-dataset" class="anchor" href="#collection-dataset" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Collection (dataset)</h3>

<p>Get an array of metadata of resource type specified in constructor. The limit parameter has no maximum value.</p>

<div class="highlight highlight-source-ruby"><pre>c <span class="pl-k">=</span> <span class="pl-c1">Puree</span>::<span class="pl-c1">Collection</span>.<span class="pl-k">new</span> <span class="pl-c1">resource:</span> <span class="pl-c1">:dataset</span>

<span class="pl-c"># Get metadata for fifty datasets, starting at record ten, created and modified in January 2016</span>
metadata <span class="pl-k">=</span>  c.find <span class="pl-c1">limit:</span>          <span class="pl-c1">50</span>,            <span class="pl-c"># optional, default 20, no maximum</span>
                   <span class="pl-c1">offset:</span>         <span class="pl-c1">10</span>,            <span class="pl-c"># optional, default 0</span>
                   <span class="pl-c1">created_start:</span>  <span class="pl-s"><span class="pl-pds">'</span>2016-01-01<span class="pl-pds">'</span></span>,  <span class="pl-c"># optional</span>
                   <span class="pl-c1">created_end:</span>    <span class="pl-s"><span class="pl-pds">'</span>2016-01-31<span class="pl-pds">'</span></span>,  <span class="pl-c"># optional</span>
                   <span class="pl-c1">modified_start:</span> <span class="pl-s"><span class="pl-pds">'</span>2016-01-01<span class="pl-pds">'</span></span>,  <span class="pl-c"># optional</span>
                   <span class="pl-c1">modified_end:</span>   <span class="pl-s"><span class="pl-pds">'</span>2016-01-31<span class="pl-pds">'</span></span>   <span class="pl-c"># optional</span></pre></div>

<p>Get just the UUIDs</p>

<p><code>full: false</code></p>

<h3>
<a id="download-dataset" class="anchor" href="#download-dataset" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Download (dataset)</h3>

<p>Uses limit and offset like Collection. Resources available :dataset.</p>

<div class="highlight highlight-source-ruby"><pre>p <span class="pl-k">=</span> <span class="pl-c1">Puree</span>::<span class="pl-c1">Download</span>.<span class="pl-k">new</span>
metadata <span class="pl-k">=</span> p.find <span class="pl-c1">resource:</span> <span class="pl-c1">:dataset</span>,
                  <span class="pl-c1">limit:</span>    <span class="pl-c1">1000</span></pre></div>

<h2>
<a id="resource-data-structures" class="anchor" href="#resource-data-structures" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Resource data structures</h2>

<h3>
<a id="common-to-all" class="anchor" href="#common-to-all" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Common to all</h3>

<h4>
<a id="created" class="anchor" href="#created" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>created</h4>

<h4>
<a id="modified" class="anchor" href="#modified" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>modified</h4>

<h4>
<a id="uuid" class="anchor" href="#uuid" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>uuid</h4>

<h3>
<a id="dataset-1" class="anchor" href="#dataset-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dataset</h3>

<p>access
associated</p>

<h4>
<a id="available" class="anchor" href="#available" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>available</h4>

<p>Date made available. If year is present, month and day will have data or an empty string.</p>

<div class="highlight highlight-source-ruby"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>2016<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>month<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>2<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>day<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>4<span class="pl-pds">"</span></span>
}</pre></div>

<h4>
<a id="description" class="anchor" href="#description" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>description</h4>

<h4>
<a id="doi" class="anchor" href="#doi" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>doi</h4>

<h4>
<a id="file" class="anchor" href="#file" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>file</h4>

<p>An array of files.</p>

<div class="highlight highlight-source-ruby"><pre>[
  {
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>foo.csv<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>mime<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>application/octet-stream<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>size<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>1616665158<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>url<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>http://example.com/ws/rest/files/12345678/foo.csv<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>foo.csv<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>license<span class="pl-pds">"</span></span> =&gt; {
      <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>CC BY-NC<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>url<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>http://creativecommons.org/licenses/by-nc/4.0/<span class="pl-pds">"</span></span>
    }
  },
]</pre></div>

<h4>
<a id="geographical" class="anchor" href="#geographical" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>geographical</h4>

<h4>
<a id="keyword" class="anchor" href="#keyword" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>keyword</h4>

<h4>
<a id="link" class="anchor" href="#link" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>link</h4>

<p>An array of links.</p>

<div class="highlight highlight-source-ruby"><pre>[
  {
    <span class="pl-s"><span class="pl-pds">"</span>url<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>http://www.example.com/~abc1234/xyz/<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>An interesting description<span class="pl-pds">"</span></span>
  },
]</pre></div>

<h4>
<a id="owner" class="anchor" href="#owner" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>owner</h4>

<p>Organisation responsible.</p>

<div class="highlight highlight-source-ruby"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>uuid<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Institute for the Arts<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Department<span class="pl-pds">"</span></span>
}</pre></div>

<h4>
<a id="person" class="anchor" href="#person" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>person</h4>

<p>Contains an array of internal persons, an array of external persons and an array of other persons.</p>

<div class="highlight highlight-source-ruby"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>internal<span class="pl-pds">"</span></span> =&gt; [
    {
      <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> =&gt; {
        <span class="pl-s"><span class="pl-pds">"</span>first<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Stan<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>last<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Laurel<span class="pl-pds">"</span></span>
       },
       <span class="pl-s"><span class="pl-pds">"</span>role<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Creator<span class="pl-pds">"</span></span>,
       <span class="pl-s"><span class="pl-pds">"</span>uuid<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx<span class="pl-pds">"</span></span>
    },
  ],
  <span class="pl-s"><span class="pl-pds">"</span>external<span class="pl-pds">"</span></span> =&gt; [
  ],
  <span class="pl-s"><span class="pl-pds">"</span>other<span class="pl-pds">"</span></span> =&gt; [
    {
      <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> =&gt; {
        <span class="pl-s"><span class="pl-pds">"</span>first<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Hal<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>last<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Roach<span class="pl-pds">"</span></span>
      },
      <span class="pl-s"><span class="pl-pds">"</span>role<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Contributor<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>uuid<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>
    },
  ]
}</pre></div>

<h4>
<a id="project" class="anchor" href="#project" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>project</h4>

<p>An array of projects associated with the dataset.</p>

<div class="highlight highlight-source-ruby"><pre>[
  {
    <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>An interesting project title<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>uuid<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx<span class="pl-pds">"</span></span>
  },
]</pre></div>

<h4>
<a id="publication" class="anchor" href="#publication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>publication</h4>

<p>An array of research outputs associated with the dataset.</p>

<div class="highlight highlight-source-ruby"><pre>[
  {
    <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Journal article<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>An interesting journal article title<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>uuid<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx<span class="pl-pds">"</span></span>
  },
  {
    <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Conference paper<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>An interesting conference paper title<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>uuid<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx<span class="pl-pds">"</span></span>
  },
  {
    <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Working paper<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>An interesting working paper title<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>uuid<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx<span class="pl-pds">"</span></span>
  },
  {
    <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Paper<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>An interesting paper title<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>uuid<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx<span class="pl-pds">"</span></span>
  },
  {
    <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Dataset<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>An interesting dataset title<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>uuid<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx<span class="pl-pds">"</span></span>
  },
  {
    <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Chapter<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>An interesting chapter title<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>uuid<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx<span class="pl-pds">"</span></span>
  },
]</pre></div>

<h4>
<a id="publisher" class="anchor" href="#publisher" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>publisher</h4>

<h4>
<a id="production-temporal" class="anchor" href="#production-temporal" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>production, temporal</h4>

<p>Date range. If year is present, month and day will have data or an empty string.</p>

<div class="highlight highlight-source-ruby"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>start<span class="pl-pds">"</span></span> =&gt; {
    <span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>2005<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>month<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>5<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>day<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>10<span class="pl-pds">"</span></span>
  },
  <span class="pl-s"><span class="pl-pds">"</span>end<span class="pl-pds">"</span></span> =&gt; {
    <span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>2011<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>month<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>9<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>day<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>18<span class="pl-pds">"</span></span>
  }
}</pre></div>

<h4>
<a id="title" class="anchor" href="#title" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>title</h4>

<h3>
<a id="organisation" class="anchor" href="#organisation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Organisation</h3>

<h4>
<a id="address" class="anchor" href="#address" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>address</h4>

<p>An array of addresses.</p>

<div class="highlight highlight-source-ruby"><pre>[
  {
    <span class="pl-s"><span class="pl-pds">"</span>street<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Lancaster University<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>building<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Bowland North<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>postcode<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>LA1 4YN<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>city<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Lancaster<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>country<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>United Kingdom<span class="pl-pds">"</span></span>
  },
]</pre></div>

<h4>
<a id="parent" class="anchor" href="#parent" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>parent</h4>

<p>Parent organisation.</p>

<div class="highlight highlight-source-ruby"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>uuid<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Institute for the Arts<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Department<span class="pl-pds">"</span></span>
}</pre></div>

<h3>
<a id="project-1" class="anchor" href="#project-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Project</h3>

<h4>
<a id="owner-1" class="anchor" href="#owner-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>owner</h4>

<p>Organisation responsible.</p>

<div class="highlight highlight-source-ruby"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>uuid<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Institute for the Arts<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>Department<span class="pl-pds">"</span></span>
}</pre></div>

<h4>
<a id="temporal" class="anchor" href="#temporal" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>temporal</h4>

<div class="highlight highlight-source-ruby"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>temporal<span class="pl-pds">"</span></span> =&gt; {
    <span class="pl-s"><span class="pl-pds">"</span>expected<span class="pl-pds">"</span></span> =&gt; {
      <span class="pl-s"><span class="pl-pds">"</span>start<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>2016-03-01Z<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>end<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>2018-02-28Z<span class="pl-pds">"</span></span>
    },
    <span class="pl-s"><span class="pl-pds">"</span>actual<span class="pl-pds">"</span></span> =&gt; {
      <span class="pl-s"><span class="pl-pds">"</span>start<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>2016-03-01Z<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>end<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>
    }
  }
}</pre></div>

<h3>
<a id="publication-1" class="anchor" href="#publication-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Publication</h3>

<h4>
<a id="file-1" class="anchor" href="#file-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>file</h4>

<p>An array of files.</p>

<div class="highlight highlight-source-ruby"><pre>[
  {
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>foo.csv<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>mime<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>application/octet-stream<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>size<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>1616665158<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>url<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>http://example.com/ws/rest/files/12345678/foo.csv<span class="pl-pds">"</span></span>,
  },
]</pre></div>

<h2>
<a id="other-data-structures" class="anchor" href="#other-data-structures" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Other data structures</h2>

<h3>
<a id="download" class="anchor" href="#download" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Download</h3>

<p>An array of hashes, where each hash is a resource.</p>

<div class="highlight highlight-source-ruby"><pre>[
  {
    <span class="pl-s"><span class="pl-pds">"</span>uuid<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>download<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>1999<span class="pl-pds">"</span></span>
  },
  {
    <span class="pl-s"><span class="pl-pds">"</span>uuid<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>download<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>666<span class="pl-pds">"</span></span>
  },
]</pre></div>

<h2>
<a id="utilities" class="anchor" href="#utilities" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Utilities</h2>

<h3>
<a id="convert-date-to-iso-8601-format" class="anchor" href="#convert-date-to-iso-8601-format" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Convert date to ISO 8601 format.</h3>

<div class="highlight highlight-source-ruby"><pre><span class="pl-c1">Puree</span>::<span class="pl-c1">Date</span>.iso d.available</pre></div>

<div class="highlight highlight-source-ruby"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>year<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>2016<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>month<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>4<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>day<span class="pl-pds">"</span></span> =&gt; <span class="pl-s"><span class="pl-pds">"</span>18<span class="pl-pds">"</span></span>
}</pre></div>

<p>becomes</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-s"><span class="pl-pds">"</span>2016-04-18<span class="pl-pds">"</span></span></pre></div>

<h2>
<a id="api-coverage" class="anchor" href="#api-coverage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>API coverage</h2>

<p>Version</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-c1">5.5</span>.<span class="pl-c1">1</span></pre></div>

<p>Resource metadata</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-c1">:dataset</span>
<span class="pl-c1">:event</span>
<span class="pl-c1">:organisation</span>
<span class="pl-c1">:person</span>
<span class="pl-c1">:publication</span></pre></div>

<p>Collections</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-c1">:dataset</span>
<span class="pl-c1">:event</span>
<span class="pl-c1">:journal</span>
<span class="pl-c1">:organisation</span>
<span class="pl-c1">:person</span>
<span class="pl-c1">:project</span>
<span class="pl-c1">:publication</span>
<span class="pl-c1">:publisher</span></pre></div>

<p>Other metadata</p>

<div class="highlight highlight-source-ruby"><pre><span class="pl-c1">:download</span>
<span class="pl-c1">:server</span></pre></div>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/lulibrary/puree">Purée</a> is maintained by <a href="https://github.com/lulibrary">lulibrary</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
